Traceback (most recent call last):
  File "/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/nbclient/client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/asyncio/base_events.py", line 686, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import matplotlib.pyplot as plt
import pandas as pd
import pypsa
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mImportError[0m                               Traceback (most recent call last)
File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/__init__.py:23[0m
[1;32m     22[0m [38;5;28;01mtry[39;00m:
[0;32m---> 23[0m     [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01m.[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m multiarray
[1;32m     24[0m [38;5;28;01mexcept[39;00m [38;5;167;01mImportError[39;00m [38;5;28;01mas[39;00m exc:

File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/multiarray.py:10[0m
[1;32m      9[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mfunctools[39;00m
[0;32m---> 10[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01m.[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m overrides
[1;32m     11[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01m.[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m _multiarray_umath

File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/overrides.py:7[0m
[1;32m      6[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01m.[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_utils[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_inspect[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m getargspec
[0;32m----> 7[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01mnumpy[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_core[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_multiarray_umath[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m (
[1;32m      8[0m     add_docstring,  _get_implementing_args, _ArrayFunctionDispatcher)
[1;32m     11[0m ARRAY_FUNCTIONS [38;5;241m=[39m [38;5;28mset[39m()

[0;31mImportError[0m: dlopen(/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/_multiarray_umath.cpython-312-darwin.so, 0x0002): Library not loaded: @rpath/libgfortran.5.dylib
  Referenced from: <C435405B-BFF1-399F-A1EC-BD43418F546A> /opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/libopenblas.0.dylib
  Reason: tried: '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/../../../../libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/../../../../libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/bin/../lib/libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/bin/../lib/libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/usr/local/lib/libgfortran.5.dylib' (no such file), '/usr/lib/libgfortran.5.dylib' (no such file, not in dyld cache)

During handling of the above exception, another exception occurred:

[0;31mImportError[0m                               Traceback (most recent call last)
File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/__init__.py:114[0m
[1;32m    113[0m [38;5;28;01mtry[39;00m:
[0;32m--> 114[0m     [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01mnumpy[39;00m[38;5;21;01m.[39;00m[38;5;21;01m__config__[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m show_config
[1;32m    115[0m [38;5;28;01mexcept[39;00m [38;5;167;01mImportError[39;00m [38;5;28;01mas[39;00m e:

File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/__config__.py:4[0m
[1;32m      3[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01menum[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m Enum
[0;32m----> 4[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01mnumpy[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_core[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_multiarray_umath[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m (
[1;32m      5[0m     __cpu_features__,
[1;32m      6[0m     __cpu_baseline__,
[1;32m      7[0m     __cpu_dispatch__,
[1;32m      8[0m )
[1;32m     10[0m __all__ [38;5;241m=[39m [[38;5;124m"[39m[38;5;124mshow_config[39m[38;5;124m"[39m]

File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/__init__.py:49[0m
[1;32m     26[0m     msg [38;5;241m=[39m [38;5;124m"""[39m
[1;32m     27[0m 
[1;32m     28[0m [38;5;124mIMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE![39m
[0;32m   (...)[0m
[1;32m     47[0m [38;5;124m"""[39m [38;5;241m%[39m (sys[38;5;241m.[39mversion_info[[38;5;241m0[39m], sys[38;5;241m.[39mversion_info[[38;5;241m1[39m], sys[38;5;241m.[39mexecutable,
[1;32m     48[0m         __version__, exc)
[0;32m---> 49[0m     [38;5;28;01mraise[39;00m [38;5;167;01mImportError[39;00m(msg)
[1;32m     50[0m [38;5;28;01mfinally[39;00m:

[0;31mImportError[0m: 

IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!

Importing the numpy C-extensions failed. This error can happen for
many reasons, often due to issues with your setup or how NumPy was
installed.

We have compiled some common reasons and troubleshooting tips at:

    https://numpy.org/devdocs/user/troubleshooting-importerror.html

Please note and check the following:

  * The Python version is: Python3.12 from "/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/bin/python"
  * The NumPy version is: "2.2.1"

and make sure that they are the versions you expect.
Please carefully study the documentation linked above for further help.

Original error was: dlopen(/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/_multiarray_umath.cpython-312-darwin.so, 0x0002): Library not loaded: @rpath/libgfortran.5.dylib
  Referenced from: <C435405B-BFF1-399F-A1EC-BD43418F546A> /opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/libopenblas.0.dylib
  Reason: tried: '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/../../../../libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/_core/../../../../libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/bin/../lib/libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/bin/../lib/libgfortran.5.dylib' (duplicate LC_RPATH '@loader_path'), '/usr/local/lib/libgfortran.5.dylib' (no such file), '/usr/lib/libgfortran.5.dylib' (no such file, not in dyld cache)


The above exception was the direct cause of the following exception:

[0;31mImportError[0m                               Traceback (most recent call last)
Cell [0;32mIn[1], line 1[0m
[0;32m----> 1[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mmatplotlib[39;00m[38;5;21;01m.[39;00m[38;5;21;01mpyplot[39;00m[38;5;250m [39m[38;5;28;01mas[39;00m[38;5;250m [39m[38;5;21;01mplt[39;00m
[1;32m      2[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mpandas[39;00m[38;5;250m [39m[38;5;28;01mas[39;00m[38;5;250m [39m[38;5;21;01mpd[39;00m
[1;32m      3[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mpypsa[39;00m

File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/matplotlib/__init__.py:161[0m
[1;32m    157[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01mpackaging[39;00m[38;5;21;01m.[39;00m[38;5;21;01mversion[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m parse [38;5;28;01mas[39;00m parse_version
[1;32m    159[0m [38;5;66;03m# cbook must import matplotlib only within function[39;00m
[1;32m    160[0m [38;5;66;03m# definitions, so it is safe to import from it here.[39;00m
[0;32m--> 161[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01m.[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m _api, _version, cbook, _docstring, rcsetup
[1;32m    162[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01mmatplotlib[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_api[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m MatplotlibDeprecationWarning
[1;32m    163[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01mmatplotlib[39;00m[38;5;21;01m.[39;00m[38;5;21;01mrcsetup[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m cycler  [38;5;66;03m# noqa: F401[39;00m

File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/matplotlib/cbook.py:24[0m
[1;32m     21[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mtypes[39;00m
[1;32m     22[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mweakref[39;00m
[0;32m---> 24[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mnumpy[39;00m[38;5;250m [39m[38;5;28;01mas[39;00m[38;5;250m [39m[38;5;21;01mnp[39;00m
[1;32m     26[0m [38;5;28;01mtry[39;00m:
[1;32m     27[0m     [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01mnumpy[39;00m[38;5;21;01m.[39;00m[38;5;21;01mexceptions[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m VisibleDeprecationWarning  [38;5;66;03m# numpy >= 1.25[39;00m

File [0;32m/opt/homebrew/Caskroom/miniforge/base/envs/integrated-energy-grids/lib/python3.12/site-packages/numpy/__init__.py:119[0m
[1;32m    115[0m [38;5;28;01mexcept[39;00m [38;5;167;01mImportError[39;00m [38;5;28;01mas[39;00m e:
[1;32m    116[0m     msg [38;5;241m=[39m [38;5;124m"""[39m[38;5;124mError importing numpy: you should not try to import numpy from[39m
[1;32m    117[0m [38;5;124m    its source directory; please exit the numpy source tree, and relaunch[39m
[1;32m    118[0m [38;5;124m    your python interpreter from there.[39m[38;5;124m"""[39m
[0;32m--> 119[0m     [38;5;28;01mraise[39;00m [38;5;167;01mImportError[39;00m(msg) [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01me[39;00m
[1;32m    121[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01m.[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m _core
[1;32m    122[0m [38;5;28;01mfrom[39;00m[38;5;250m [39m[38;5;21;01m.[39;00m[38;5;21;01m_core[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m (
[1;32m    123[0m     False_, ScalarType, True_,
[1;32m    124[0m     [38;5;28mabs[39m, absolute, acos, acosh, add, [38;5;28mall[39m, allclose,
[0;32m   (...)[0m
[1;32m    169[0m     vecmat, void, vstack, where, zeros, zeros_like
[1;32m    170[0m )

[0;31mImportError[0m: Error importing numpy: you should not try to import numpy from
        its source directory; please exit the numpy source tree, and relaunch
        your python interpreter from there.

